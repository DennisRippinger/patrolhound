<ui:composition xmlns="http://www.w3.org/1999/xhtml"
					 xmlns:ui="http://java.sun.com/jsf/facelets"
					 xmlns:f="http://xmlns.jcp.org/jsf/core"
					 xmlns:h="http://xmlns.jcp.org/jsf/html"
					 xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
					 template="/templates/master.xhtml">

	<ui:param name="parentId" value="home"/>


	<ui:define name="content">

		<h:dataTable id="companies" styleClass="table table-hover rowlink" value="#{companyAction.loadCompanies()}"
						 var="currentCompany" pt:data-link="row">
			<h:column>
				<f:facet name="header">#{messages['company.name']}</f:facet>
				<h:link value="#{currentCompany.name}" outcome="pretty:companyOverview">
					<f:param name="id" value="#{currentCompany.id}"/>
				</h:link>
			</h:column>
			<h:column>
				<f:facet name="header">#{messages['company.city']}</f:facet>
				#{currentCompany.city}
			</h:column>
			<h:column>
				<f:facet name="header">#{messages['company.phone']}</f:facet>
				<h:outputText value="#{currentCompany.phone}"/>
			</h:column>
			<h:column>
				<f:facet name="header">#{messages['company.offers']}</f:facet>
				<h:outputText value="#{companyAction.countOffers(currentCompany.id)}"/>
			</h:column>
		</h:dataTable>

		<h:form>
			<h:commandButton styleClass="btn btn-default" value="Crawl Jobs"
								  action="#{homeAction.crawlJobs}"/>
		</h:form>

		<script src="#{request.contextPath}/static/bootstrap-tab.js"/>

	</ui:define>
</ui:composition>
